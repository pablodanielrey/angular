
<div class="userAssistanceManagement">
  <div class="title">
    <label><i class="fa fa-ticket"></i> | Administración de asistencia de un usuario</label>
  </div>
  
  <div class="selectUser">
      <div class="searchUser">
        <div class="searchTitle">
          <span><i class="fa fa-user-plus"></i> Seleccione Usuario</span>
        </div>
        <div>
          <input class="inputSearch" ng-model="model.searchUser" ng-click="displayListUser()" placeholder="Buscar...">
          <ul class="listUsers" ng-class="{true:'visible', false:'hidden'}[isDisplayListUser()]">
            <li class="liUsers" ng-repeat="user in model.users | filter:model.searchUser | orderBy : 'name'" ng-click="selectUser(user)">{{user.name}} {{user.lastname}}</li>
          </ul>
        </div>
      </div>
      <div class="userSelect">
        <div><b>{{model.user.name}} {{model.user.lastname}}</b></div>
        <div>{{model.user.dni}}</div>
      </div>
    </div>
  
  <div class="content">
    <div ng-repeat="justification in model.justifications" ng-controller="UserAssistanceManagementDatesCtrl" ng-include="'modules/systems/assistance/userAssistanceManagementDates.html'" ng-init="init(justification.id)"></div>

  </div>
  
  <div class="myRequests">
    <span><i class="fa fa-ticket"></i>Solicitudes del usuario</span>
  </div>
  <div class="titlesFiles">
    <div class="column t1"><i class="fa fa-ticket"></i> Solicitud</div>
    <div class="column t1"><i class="fa fa-calendar"></i> Día</div>
    <div class="column t1"><i class="fa fa-info-circle"></i> Estado</div>
  </div>
  <div class="scroll">
    <div class="myRequestInfo" ng-repeat="x in model.requestedJustifications" >

      <div class="myRequest">
        <span>{{x.justificationName}}</span>
      </div>
      <div class="myRequestDate">
        <span><i class="fa fa-calendar"></i> {{x.date}}</span>
        <div ng-class="{true:'visible', false:'hidden'}[x.time != null]">
          <span><i class="fa fa-clock-o"></i> {{x.time}} Horas</span>
          <div>
            <span>De {{x.start}} a {{x.end}}</span>
          </div>
        </div>
      </div>


      <div class="myStateRequestSlope  pending" ng-class="{true:'visible', false:'hidden'}[x.status == 'PENDING']">
        <span><i class="fa fa-spinner fa-spin"></i> Pendiente</span>
        <Button class="buttonpending" ng-click='cancelRequest(x)'><i class="fa fa-times"></i> Cancelar</Button>
      </div>
      <div class="myStateRequestApproved" ng-class="{true:'visible', false:'hidden'}[x.status == 'APPROVED']">
        <span class="buttonApproved"><i class="fa fa-check-circle"></i> Aprobado</span>
      </div>
      <div class="myStateRequestRejected" ng-class="{true:'visible', false:'hidden'}[x.status == 'REJECTED']">
        <span class="buttonCancel"><i class="fa fa-times"></i> Rechazado</span>
      </div>
       <div class="myStateRequestCanceled" ng-class="{true:'visible', false:'hidden'}[x.status == 'CANCELED']">
        <span class="buttonCancel"><i class="fa fa-times"></i> Cancelado</span>
      </div>
    </div>
  </div>
</div>