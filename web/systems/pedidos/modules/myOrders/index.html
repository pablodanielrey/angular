<div class="myOrders {{view.style}} {{view.style2}}">

  <!-- ---- VARIABLES ----
  VARIABLE 1: pantallaDetallePedido
  VARIABLE 1: pantallaMensaje
  VARIABLE 1: pantallaNuevoPedido
              VARIABLE 2: buscarOficina, buscarArea, buscarConsulta, verMisOficinas
  VARIABLE 1: buscarPedidos
  VARIABLE 3: pantallaMensajeAlUsuario
              VARIABLE 4: mensajeCargando, mensajeError, mensajeEnviado, mensajePedidoCreado
  -->

  <!-- --------------- HEADER DEL SISTEMA ----------------- -->
  <div class="header">
      <div class="contentHeader">
          <div class="textMisPedidos">
            Mis Pedidos
          </div>
          <div class="contentFilters">
              <div class="textFilters"><i class="fa fa-sliders" aria-hidden="true"></i> Ordenar</div>
              <!-- <button class="btnFilter" title="Buscar..." ng-click="view.style = 'buscarPedido'"><i class="fa fa-search" aria-hidden="true"></i></button> -->
              <button class="btnFilter" title="Ordenar por Fecha"><i class="fa fa-calendar-o" aria-hidden="true"></i></button>
              <button class="btnFilter" title="Ordenar por Estado"><i class="fa fa-sort-amount-asc" aria-hidden="true"></i></button>
          </div>
          <div>
              <button class="btnNew" ng-click="create()">NUEVO PEDIDO</button>
          </div>
      </div>
  </div>
  <!-- -------------- BUSCADOR DE PEDIDOS ----------------- -->
  <div class="contentSearchOrders">
      <div class="searchOrders">
          <div class="textSearch1"><i class="fa fa-search" aria-hidden="true"></i> Buscar</div>
          <div><input class="inputSearch" type="search"></input></div>
          <div class="textSearch1b"><i class="fa fa-calendar-o" aria-hidden="true"></i> Buscar por Fecha</div>
          <div class="textSearch2a">Fecha Inicio</div>
          <div><input class="inputSearch2" type="date"></input></div>
          <div class="textSearch2b">Fecha Fin</div>
          <div><input class="inputSearch2" type="date"></input></div>
          <div class="actionMessage">
                <button class="btnAceptMennsage" ng-click="view.style = ''">ACEPTAR</button>
                <button class="btnCancelMennsage" ng-click="view.style = ''">CANCELAR</button>
              </div>
      </div>
  </div>

  <!-- ------------- CREAR UN NUEVO PEDIDO ---------------- -->
  <div class="contentNewOrder">
    <div class="subContentNewOrder">
        <div class="newOrder">
            <!-- ---- HEADER DE SOLICITAR PEDIDO ---- -->
            <div class="contentTitleNewOrder ">
                <!-- ---- VARIABLES: usuarioDeUnaSolaOficina ---- -->
                <div class="contentBackNewOrder">
                    <div class="contentBtnReturn">
                          <button class="btnReturn" ng-click="cancel()"><i class=" fa fa-angle-left" aria-hidden="true"></i></button>
                    </div>
                    <div class="titleNewOrder">
                      NUEVO PEDIDO
                    </div>
                </div>

                <div class="contentSelectedOffice">
                  <div class="textMini">Enviar desde</div>
                  <div class="contentSelectOffice" ng-click="view.style2 = 'verMisOficinas'">
                      <div>Detise</div>
                      <div><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                  </div>
                  <div class="contentListOffices">
                    <div class="itemsOffice2"  ng-click="view.style2 = ''"> Detise</div>
                    <div class="itemsOffice2"  ng-click="view.style2 = ''"> Detise</div>
                  </div>
                </div>
                <div>
                    <button class="btnApply" ng-click="view.style = ''">SOLICITAR</button>
                    <button class="btnApply2" ng-click="view.style = 'buscarUsuario'"><i class="fa fa-paper-plane"></i></button>
                </div>
            </div>

            <!-- ---- CAMPOS PARA LLENAR EN UN NUEVO PEDIDO ---- -->
            <div class="contentOrder">
              <div class="contentOrientation">
                  <div class="subtitleNewOrder">OFICINA</div>
                  <input type="texy" class="inputNewOrder" placeholder="Buscar..."  ng-model='model.searchOffice.name' ng-click="view.style2 = 'buscarOficina'"></input>
              </div>
              <!-- ---- LISTADO DE OFICINAS ---- -->
              <div class="offices">
                  <div class="itemsSelectOffice"  ng-repeat='office in model.offices | filter: model.searchOffice' ng-click="selectOffice(office)" >
                    {{office.name}}
                  </div>
              </div>

              <div class="contentOrientation">
                  <div class="subtitleNewOrder">ÁREA</div>
                  <input type="text" class="inputNewOrder" placeholder="Buscar..." ng-model='model.searchArea.name' ng-click="view.style2 = 'buscarArea'"></input>
              </div>
              <!-- ---- LISTADO DE AREAS ---- -->
              <div class="areas">
                  <div class="itemsSelectArea" ng-repeat='area in model.areas | filter: model.searchArea' ng-click="selectArea(area)">
                    {{area.name}}
                  </div>
              </div>

              <div class="contentOrientation">
                  <div class="subtitleNewOrder">CONSULTA</div>
                  <input type="texy" class="inputNewOrder" placeholder="Seleccionar..." ng-model='model.subject' ng-click="view.style2 = 'buscarConsulta'"></input>
              </div>

              <!-- ---- LISTADO DE PROBLEMAS ---- -->
              <div class="querys">
                  <div class="itemsSelectQuery" ng-repeat="subject in model.subjects | filter: model.subject" ng-click="selectSubject(subject)">
                      {{subject}}
                  </div>
              </div>

              <div class="subtitleNewOrder2">MENSAJE</div>
              <div><textarea class="textareaNewOrder" ng-model="model.description"></textarea></div>

              <div class="addMenssage2">
                  <div><button class="btnAdd" title="Adjuntar Archivo"><i class="fa fa-paperclip" aria-hidden="true"></i> Subir Archivo</button></div>
                  <div class="ArchivesAdd">
                    <input type="file" class="inputFile"></input>
                    <!-- <i class="fa fa-file-o"></i> Instructivo.pdf <button class="btnTrashAdd"><i class="fa fa-trash-o" aria-hidden="true"></i></button>
                    <i class="fa fa-file-o"></i> pantalla_de_error.jpg <button class="btnTrashAdd"><i class="fa fa-trash-o" aria-hidden="true"></i></button> -->
                  </div>
              </div>


            </div>
        </div>
    </div>
  </div>

<!-- --------------- LISTADO DE PEDIDOS ------------------ -->
    <div class="contentOrders">
      <div class="itemOrders" ng-repeat="issue in model.issues">
          <div class="itemInfo">

              <div class="itemDate">
                  <div class="textNumerOrders">Nº {{issue.id}}</div>
                  <div class="textDateOrders">{{getDate(issue) | date: 'd MMMM  yyyy'}}</div>
                  <div class="textDaysOrders">{{getDiffDay(issue)}}</div>
              </div>

              <div class="itemStatus">
                  <div class="status {{getStatus(issue)}}">
                      <!-- VARIABLES:
                      abierta, enProgreso, cerrada, pausada, rechazada -->
                      <div class="textA1">ABIERTA</div>
                      <div class="textA2"></div>
                      <div class="textEC1">EN CURSO</div>
                      <div class="textEC2"></div>
                      <div class="textC1">CERRADA</div>
                      <div class="textC2"></div>
                      <div class="textP1">PAUSADA</div>
                      <div class="textP2"></div>
                      <div class="textR1">RECHAZADA</div>
                      <div class="textR2"></div>
                  </div>
              </div>

              <div class="itemsType">
                <div class="textType">Económico Financiero</div>
                <div class="textType2">Compras</div>
                <div class="textSubType">{{issue.subject}}</div>
              </div>

              <div class="itemsOffice">
                <div class="textMini">Solicitado por:</div>
                <div class="textOffice">{{issue.projectName}}</div>
                <div class="textName">{{getFullName(issue)}}</div>
              </div>

          </div>

          <div class="itemActions" ng-click="viewDetail(issue)">
            <i class=" fa fa-angle-right" aria-hidden="true"></i>
          </div>

      </div>
    </div>

<!-- ---------------- DETALLE DE PEDIDO ------------------ -->
    <div class="contentOrderDetail">


        <div class="headerDetail">

              <div class="detail">
                  <div class="contentBtnReturn">
                      <button class="btnReturn" ng-click="cancel()"><i class=" fa fa-angle-left" aria-hidden="true"></i></button>
                  </div>
                  <div class="itemDate2">
                      <div class="textDaysOrders">Consulta</div>
                      <div class="textNumerOrders2">Nº {{model.issueSelected.id}}</div>
                      <!-- <div class="textDateOrders">25 May. 2016 - 09:25 hs</div>
                      <div class="textDaysOrders">Hoy</div> -->
                  </div>
                  <div class="itemsType">
                        <div class="textType">{{model.issueSelected.projectName}}:</div>
                        <div class="textSubType">{{model.issueSelected.subject}}</div>
                  </div>

                  <div class="contentOffice">
                      <div class="textMini">Solicitado por:</div>
                        <div class="textOffice">{{getOffice()}}</div>
                        <div class="textName">{{getName(model.issueSelected)}} {{getLastname(model.issueSelected)}}</div>
                  </div>

                  <div class="contentActions">

                      <div class="itemStatus2">
                          <div class="status2 rechazada">
                              <!-- VARIABLES:
                              abierta, enProgreso, cerrada, pausada, rechazada -->
                              <div class="textA1">ABIERTA</div>
                              <div class="textA2">A</div>
                              <div class="textEC1">EN CURSO</div>
                              <div class="textEC2">eC</div>
                              <div class="textC1">CERRADA</div>
                              <div class="textC2">C</div>
                              <div class="textP1">PAUSADA</div>
                              <div class="textP2">P</div>
                              <div class="textR1">RECHAZADA</div>
                              <div class="textR2">R</div>
                          </div>
                      </div>

                      <div class="contentBtnReply">
                          <button class="btnReply" ng-click="view.style2 = 'pantallaMensaje'">RESPONDER</button>
                          <button class="btnReply2" ng-click="view.style2 = 'pantallaMensaje'"><i class="fa fa-comment-o fa-2x"></i></button>
                      </div>

                  </div>

              </div>

            </div>

        <div class="infoOrder">
            <div class="contentUser">
                <div class="photo">
                    <img class="avatar" ng-src='{{getUserPhoto(model.issueSelected)}}' alt="foto de perfil"/>
                </div>
                <div class="nameUser">
                  {{model.issueSelected.user.name}} </br>
                  {{model.issueSelected.user.lastname}}
                </div>
            </div>
            <!-- <div class="contentArrow">
              <i class="fa fa-caret-left" aria-hidden="true"></i>
            </div> -->
            <div class="contentInfo ">
                <!-- VARIABLES: conAdjunto, sinAdjunto -->
                <div class="textDateDetailOrders">
                    {{getDiffDay(model.issueSelected)}} - {{getDate(model.issueSelected) | date: 'd MMMM  yyyy'}}
                </div>
                <div>
                  {{model.issueSelected.description}}
                </div>
                <div ng-repeat="file in model.issueSelected.files" class="contentAddInfo"><i class="archiveAdd"></i> <a href="{{file.url}}">{{file.name}}</a></div>
            </div>

        </div>

        <div class="contentTotalReplys">

          <div class="reply" ng-class="{true: 'miRespuesta' , false: 'respuestaDeAutor'}[model.issueSelected.userId == child.userId]" ng-repeat="child in model.issueSelected.children">
              <!-- VARIABLES: miRespuesta, respuestaDeAutor -->
                <div class="contentReplys">
                  <div class="subcontentReply">
                    <div class="contentArrowLeft">
                      <i class="fa fa-caret-left" aria-hidden="true"></i>
                    </div>

                    <div class="textReply">
                        <!-- VARIABLES: sinAdjunto, conAdjunto -->
                        <div class="textDateDetailOrders">
                            {{getDiffDay(child)}} - {{getDate(child) | date: 'd MMMM  yyyy'}}
                        </div>
                        <div>
                              {{child.description}}
                        </div>
                        <div class="contentAddInfo"><i class="fa fa-paperclip"></i> <a class="archiveAdd" href=""> ArchivoAdjunto.jpg</a></div>
                    </div>

                    <div class="contentArrowRight">
                      <i class="fa fa-caret-right" aria-hidden="true"></i>
                    </div>

                  <div class="contentUser">
                      <div class="photo">
                          <img class="avatar" ng-src='{{getUserPhoto(child)}}' alt="foto de perfil"/>
                      </div>
                      <div class="nameUser">
                        {{getName(child)}} </br>
                        {{getLastname(child)}}
                      </div>
                  </div>
              </div>


        </div>

    </div>

    <!-- ------------------ NUEVO MENSAJE -------------------- -->
    <div class="contentMessage">
        <div class="subContentMessage">
            <div class="message">
                <div class="titleMessage">
                  NUEVO MENSAJE
                </div>
                <div class="textMessage">
                  <textarea class="textareaMenssage"></textarea>
                  <div class="addMenssage2">
                      <div><button class="btnAdd" title="Adjuntar Archivo"><i class="fa fa-paperclip" aria-hidden="true"></i> Subir Archivo</button></div>
                      <div class="ArchivesAdd">
                        <input type="file" class="inputFile"></input>
                        <!-- <i class="fa fa-file-o"></i> Instructivo.pdf <button class="btnTrashAdd"><i class="fa fa-trash-o" aria-hidden="true"></i></button>
                        <i class="fa fa-file-o"></i> pantalla_de_error.jpg <button class="btnTrashAdd"><i class="fa fa-trash-o" aria-hidden="true"></i></button> -->
                      </div>
                  </div>
                </div>
                <div class="actionMessage">
                  <button class="btnAceptMennsage" ng-click="view.style2 = ''">ACEPTAR</button>
                  <button class="btnCancelMennsage" ng-click="view.style2 = ''">CANCELAR</button>
                </div>
            </div>
        </div>
    </div>

    <!-- --------------- MENSAJES AL USUARIO ----------------- -->
    <div class="contentMessageUser">
        <div class="subContentMessageUser">
            <div class="messageUser">
                <div class="preload">
                    <div class="circle"><i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i></div>
                    <div><b>Cargando...</b></div>
                    <div>Por favor espere</div>
                </div>
                <div class="errorSystem">
                    <div class="circle"><i class="fa fa-exclamation-triangle fa-3x fa-fw"></i></div>
                    <div><b>Se ha producido un error en el sistema</b></div>
                    <div>Intente nuevamente</div>
                </div>
                <div class="messageSent">
                    <div class="circle"><i class="fa fa-commenting-o fa-3x fa-fw"></i></div>
                    <div><b>Mensaje enviado con éxito</b></div>
                </div>
                <div class="orderCreated">
                    <div class="circle"><i class="fa fa-check fa-3x fa-fw"></i></div>
                    <div><b>Pedido creado con éxito</b></div>
                </div>
            </div>
        </div>
    </div>

</div>
